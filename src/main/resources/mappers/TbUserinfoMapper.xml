<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.android.location.dao.TbUserinfoMapper">
  <resultMap id="BaseResultMap" type="com.android.location.pojo.TbUserinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="user_id" jdbcType="INTEGER" property="userId" />
    <result column="token" jdbcType="VARCHAR" property="token" />
    <result column="username" jdbcType="VARCHAR" property="username" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="realName" jdbcType="VARCHAR" property="realname" />
    <result column="head_photo_addr" jdbcType="VARCHAR" property="headPhotoAddr" />
    <result column="isTeacher" jdbcType="BIT" property="isteacher" />
    <result column="phone_number" jdbcType="VARCHAR" property="phoneNumber" />
    <result column="createTime" jdbcType="TIME" property="createtime" />
  </resultMap>
  <insert id="insert" parameterType="com.android.location.pojo.TbUserinfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into tb_userinfo (user_id, token, username, 
      `password`, realName, head_photo_addr, 
      isTeacher, phone_number, createTime
      )
    values (#{userId,jdbcType=INTEGER}, #{token,jdbcType=VARCHAR}, #{username,jdbcType=VARCHAR}, 
      #{password,jdbcType=VARCHAR}, #{realname,jdbcType=VARCHAR}, #{headPhotoAddr,jdbcType=VARCHAR}, 
      #{isteacher,jdbcType=BIT}, #{phoneNumber,jdbcType=VARCHAR}, #{createtime,jdbcType=TIME}
      )
  </insert>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select user_id, token, username, `password`, realName, head_photo_addr, isTeacher, 
    phone_number, createTime
    from tb_userinfo
  </select>
  
  
  <select id="selecTbUserInfo" resultMap="BaseResultMap">
  	SELECT 
  	user_id, 
  	token, 
  	username, 
  	password, 
  	realName, 
  	head_photo_addr, 
  	isTeacher,
    phone_number, 
    createTime
    FROM 
    tb_userinfo
    WHERE
    username=#{username}
    AND
    password=#{password}
  </select>
  
  <select id="selecTbUserInfoByToken" resultMap="BaseResultMap">
  	SELECT 
  	user_id, 
  	token, 
  	username, 
  	password, 
  	realName, 
  	head_photo_addr, 
  	isTeacher,
    phone_number, 
    createTime
    FROM 
    tb_userinfo
    WHERE
    token=#{token}
  </select>
  
  <update id="updateUserInfo" parameterType="com.android.location.pojo.TbUserinfo">
  	UPDATE
  	tb_userinfo
  	<set>
		<if test="username != null">username=#{username},</if>
		<if test="password != null">password=#{password},</if>
		<if test="realname != null">realname=#{realName},</if>
		<if test="headPhotoAddr != null">head_photo_addr=#{headPhotoAddr},</if>
		<if test="isteacher != null">isTeacher=#{isteacher},</if>
		<if test="phoneNumber != null">phone_number=#{phoneNumber},</if>
	</set>
	WHERE
	token=#{token}
  </update>
  
  
  
  
  
  
  
</mapper>